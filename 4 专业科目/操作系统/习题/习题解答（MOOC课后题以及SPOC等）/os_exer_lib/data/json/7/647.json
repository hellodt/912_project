{
    "status":"ok",
    "knowledge":[
        "信号量"
    ],
    "degree_of_difficulty":1,
    "explain":"由于毕业生仅排成一队，故用如图的一个队列数据结构表示。在队列中不含甲、乙公司.\nA| B| A| A| B| Sm\nA| B| Sn\nB| A| ...|  |  |\n---|---|---|---|---|---|---|---|---|---|---|---|---\n都接待过的毕业生和己被录用的毕业生。只含标识为A （被甲接待过）或只含标识为B （被乙接待过）及无标识的毕业生队列。此外，sm 和Sn\n分别为队列中甲、乙正在面试的毕业生i ( i = 1 , 2 ，…，100 ）标识、即此刻另一方不得面试该毕业生i 。K1和K2\n为甲、乙所录取的毕业生数，C1 、C2 为互斥信号量。注意，如果甲录取了一人，且该生没有被乙面试的话，则乙面试的毕业生将减1\n。办法是：如果甲录取了一人，且该生没有被乙面试可把乙的面试计数器C2加1 （相当于乙己面试了他），从而，保证乙面试的人数值为100 。反之对甲亦然。\n    ```\n    var Sa,Sb,mutex:semaphore;\n    Sa:=Sb:=mnutex:=1;\n    C1,C2,K1,K2：integer;\n    C1:=C2:=K1:=K2:=0;\n    cobegin\n    \tprocess 甲公司\n    \t\tbegin\n    \t\tL1: P(mutex);\n    \t\tP(Sa);\n    \t\tC1:==C1+1 ;\n    \t\tV(Sa);\n    \t\tIf C1≤100 then\n    \t\t｛\n    \t\t\t从标识为B 且不为Sn 或\n    \t\t\t无标识的毕业生队列中选\n    \t\t\t第i 个学生，将学生i 标\n    \t\t\t识为A 和Sm\n    \t\t｝\n    \t\tV(mutex) ;\n    \t\t面试；\n    \t\tP(mutex);\n    \t\tif 合格then\n    \t\t{\n    \t\t\tK1:=K1+1;\n    \t\t\tif 学生i 的标识不含B then\n    \t\t\t{\n    \t\t\t\tP (Sb);\n    \t\t\t\tC2:=C2+1;\n    \t\t\t\tV(Sb);\n    \t\t\t\t将学生i 从队列摘除；\n    \t\t\t}\n    \t\t\telse 将学生i 从队列摘除；\n    \t\t}\n    \t\telse if 学生i 的标识含B then\n    \t\t\t\t将学生i 从队列摘除;\n    \t\t\telse\n    \t\t\t\t取消学生i 的Sm 标识；\n    \t\tV(mutex);\n    \t\tIf(K1<10)&(C2<100) then\n    \t\t\tgoto L1;\n    end\n    process 乙公司\n    begin\n    \tL2:P(mutex);\n    \tP(Sb);\n    \tC2:=C2+1;\n    \tV(Sb);\n    \tif C2≤100 then\n    \t\t从标识为A 且不为sm 或无标识的\n    \t\t毕业生队列中选第i个学生将学生i\n    \t\t标识为B和Sn\n    \tV(mutex);\n    \t面试；\n    \tP(mutex);\n    \tif 合格then\n    \t{\n    \t\tK2:=K2+1;\n    \t\tif 学生i 的标识不含A then\n    \t\t{\n    \t\tP(Sa)\n    \t\tC1:=C1+1;\n    \t\tV(Sa);\n    \t\t将学生i 从队列摘除；\n    \t\t}\n    \t\telse 将学生i 从队列摘除；\n    \t}\n    \telse if 学生i 的标识含A then\n    \t\t\t将学生i 从队列摘除；\n    \t\telse\n    \t\t\t取消学生i 的Sn 标识；\n    \tV(mutex);\n    \tif(K2<10)&(c1<100）then\n    \t\tgoto L2;\n    end\n    coend\n    ```\n\n",
    "question":"招聘问题\n现有100名毕业生去甲、乙两公司求职，两公司合用一间接待室，其中甲公司招 收10 人，乙公司准备招收10人，招完为止。两公司各有一位人事主管在接待毕业生，\n每位人事主管每次只可接待一人，其他毕业生在接待室外排成一个队伍等待。试用信 号量和P 、v 操作实现人员招聘过程。\n",
    "source":"网络",
    "answer":"由于毕业生仅排成一队，故用如图的一个队列数据结构表示。在队列中不含甲、乙公司.\nA| B| A| A| B| Sm\nA| B| Sn\nB| A| ...|  |  |\n---|---|---|---|---|---|---|---|---|---|---|---|---\n都接待过的毕业生和己被录用的毕业生。只含标识为A （被甲接待过）或只含标识为B （被乙接待过）及无标识的毕业生队列。此外，sm 和Sn\n分别为队列中甲、乙正在面试的毕业生i ( i = 1 , 2 ，…，100 ）标识、即此刻另一方不得面试该毕业生i 。K1和K2\n为甲、乙所录取的毕业生数，C1 、C2 为互斥信号量。注意，如果甲录取了一人，且该生没有被乙面试的话，则乙面试的毕业生将减1\n。办法是：如果甲录取了一人，且该生没有被乙面试可把乙的面试计数器C2加1 （相当于乙己面试了他），从而，保证乙面试的人数值为100 。反之对甲亦然。\n    ```\n    var Sa,Sb,mutex:semaphore;\n    Sa:=Sb:=mnutex:=1;\n    C1,C2,K1,K2：integer;\n    C1:=C2:=K1:=K2:=0;\n    cobegin\n    \tprocess 甲公司\n    \t\tbegin\n    \t\tL1: P(mutex);\n    \t\tP(Sa);\n    \t\tC1:==C1+1 ;\n    \t\tV(Sa);\n    \t\tIf C1≤100 then\n    \t\t｛\n    \t\t\t从标识为B 且不为Sn 或\n    \t\t\t无标识的毕业生队列中选\n    \t\t\t第i 个学生，将学生i 标\n    \t\t\t识为A 和Sm\n    \t\t｝\n    \t\tV(mutex) ;\n    \t\t面试；\n    \t\tP(mutex);\n    \t\tif 合格then\n    \t\t{\n    \t\t\tK1:=K1+1;\n    \t\t\tif 学生i 的标识不含B then\n    \t\t\t{\n    \t\t\t\tP (Sb);\n    \t\t\t\tC2:=C2+1;\n    \t\t\t\tV(Sb);\n    \t\t\t\t将学生i 从队列摘除；\n    \t\t\t}\n    \t\t\telse 将学生i 从队列摘除；\n    \t\t}\n    \t\telse if 学生i 的标识含B then\n    \t\t\t\t将学生i 从队列摘除;\n    \t\t\telse\n    \t\t\t\t取消学生i 的Sm 标识；\n    \t\tV(mutex);\n    \t\tIf(K1<10)&(C2<100) then\n    \t\t\tgoto L1;\n    end\n    process 乙公司\n    begin\n    \tL2:P(mutex);\n    \tP(Sb);\n    \tC2:=C2+1;\n    \tV(Sb);\n    \tif C2≤100 then\n    \t\t从标识为A 且不为sm 或无标识的\n    \t\t毕业生队列中选第i个学生将学生i\n    \t\t标识为B和Sn\n    \tV(mutex);\n    \t面试；\n    \tP(mutex);\n    \tif 合格then\n    \t{\n    \t\tK2:=K2+1;\n    \t\tif 学生i 的标识不含A then\n    \t\t{\n    \t\tP(Sa)\n    \t\tC1:=C1+1;\n    \t\tV(Sa);\n    \t\t将学生i 从队列摘除；\n    \t\t}\n    \t\telse 将学生i 从队列摘除；\n    \t}\n    \telse if 学生i 的标识含A then\n    \t\t\t将学生i 从队列摘除；\n    \t\telse\n    \t\t\t取消学生i 的Sn 标识；\n    \tV(mutex);\n    \tif(K2<10)&(c1<100）then\n    \t\tgoto L2;\n    end\n    coend\n    ```\n\n",
    "type":"question_answer",
    "q_number":647
}
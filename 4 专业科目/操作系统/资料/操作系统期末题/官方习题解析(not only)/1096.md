4
在南开大学至天津大学间有一条弯曲的路,每次只允许一辆自行车通过,但中间
有小的安全岛M(同时允许两辆车),可供两辆车在已进入两端小车错车,设计算法并使用P,V实现。
- [x]

知识点:实验环境准备实验
出处:网络
难度:1
> 由于安全岛M仅仅允许两辆车停留,本应该作为临界资源而要设置信号量, 但根据 题意,任意时刻进入安全岛的车不会超过两辆(两个方向最多各有一辆), 因此,不需要
> 为M设置信号量,在路口s和路口t都需要设置信号量,以控制来自两个方向的车对路口资
> 源的争夺.这两个信号量的初值都是1.此外,由于从s到t的一段路只允许一辆车通过,所
> 以还需要设置另外的信号量用于控制,由于M的存在,可以为两端的小路分别设置一个互 斥信号量.
>     ```
>     var T2N, N2T,L,M,K:semaphore;
>     T2N:=1;
>     N2T:=1;
>     L:=1;
>     K:=1;
>     M:=2;
>     cobegin
>       Procedure Bike T2N
>       begin
>         p(T2N);
>         p(L);
>           go T to L;
>         p(M);
>           go into  M;
>         V(L);
>         P(k);
>          go K to s;
>         V(M);
>         V(k);
>         V(T2N);
>       end
>       Procedure Bike N2T
>       begin
>         P(N2T);
>         p(k);
>          go v to k;
>         p(M);
>           go into M;
>         V(k);
>         P(L);
>           go L to T;
>         V(M);
>         V(L);
>         V(N2T);
>       end
>     coend
>     ```

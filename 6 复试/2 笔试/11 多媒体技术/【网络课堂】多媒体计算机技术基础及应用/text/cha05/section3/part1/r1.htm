<html>
<head>
<title>Untitled Document</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<link rel="stylesheet" href="../../../../css/text.css" type="text/css">
</head>

<body bgcolor="#FFFFFF" text="#000000" leftmargin="5" topmargin="5" marginwidth="5" marginheight="5">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr> 
    <td class="text">　　在1987年3月第二次Microsoft CD-ROM会议上首次公布了DVI（digital video in－teractive）技术的研究成果，1989年10月Intel公司从GE公司买来了DVI技术，1989年Intel和 
      IBM公司在国际市场上推出 DVI技术的第一代产品 Action Media 750， 1991年又在美国 Comdex展示会上推出了 DVI技术的第二代产品 
      Action Media 750II，它荣获了 Comdex 91最佳多媒体产品奖（Best Multimedia Product）和最佳展示奖（Best 
      ofShown）。 Comdex的最佳奖相当于计算机工业的奥斯卡（Oscars）奖。<br>
      　　II型DVI系统 Action Media 750II是一个比较成熟的多媒体计算机系统。如前所述，它获得了&quot;Comdex 91&quot;最佳多媒体产品奖和最佳展示奖。比起I型DVI系统，它有如下几点改进：<br>
      　　（1）性能指标高；II型 DVI系统在硬件设计时采用了8275O PB像素处理器和 82750DB显示处理器专用芯片，82750 PB和 82750 
      DB比起 82750 PA和 8275O DA在运算速度上快一倍，而且在微码引擎和指令系统方面也有了明显的改进。<br>
      　　（2）使用了专用的门阵电路：Intel公司在I型DVI系统的基础上，将其周边逻辑设计成三个门阵电路：82750 LH主机接口门阵；82750 
      LV VRAM／SCSI／Capture接口门阵；82750 LA音频子系统接口门阵。<br>
      　　（3）将多块处理板变成一块处理板：最早的 DVI系统由5块板组成，后来 I型 DVI系统由3块板组成，II型DVI系统将它们集成在一块板上，视频和音频获取板也装在上面，只占一个IBM 
      PC标准插槽。<br>
      　　II型 DVI系统的核心是视频算法和显示引擎，它们是由 82750 PB像素处理器，82750 DB显示处理器和静止图像压缩编码和解压缩算法。同时还要完成把最后得到的位映射转换成在监视器能够显示的模拟的RGB信号。<br>
      　　同视频引擎同时并行操作的是音频信号处理的硬件：音频信号处理器，D／A转换器，以及模拟滤波器。它们组成了音频信号处理子系统。它执行音频信号的压缩编码和解压缩、数字语音信号到模拟语音信号的转变等任务，最后在外部放大器和音响设备播放。 
      <br>
      　　为了支持这些子系统，大量基本的数据必须在DVI的VRAM和其他外设、主机之间传送，例如主机CPU，获取子系统等和VRAM传送数据。在DVI系统中数据通信通道是具有多路开关的数据和地址总线，也称为&quot;DVI总线&quot;。不仅主机能够使用这个DVI总线与每个DVI子系统（视频、音频、CD－ROM等）通信，而且每个子系统之间也能够用 
      DVI总线通信。<br>
      　　82750 LH主机接口门阵，能够把DVI总线连接到主计算机总线，如能够连接到PS／2的微通道总线，也能够连接到 IBM PC／AT的 ISA（industry 
      standard architecture）总线。82750 LV是第二个专用门阵芯片，它能够处理VRAM／SCSI／Capture接口功能，为数据从获取子系统和CD－ROM驱动器流向VRAM提供直接通道。该门阵还执行VRAM控制器的功能。第三个门阵是82750LA,它提供在DVI总线上到音频子系统芯片的逻辑接口，它还执行彩色键连和锁相的功能。使用它能够把DVI的视频信息彩色键连到其他的彩色图形源上，典型的例子是VGA卡。<br>
      　　II型 DVI系统 ActionMedia 750II的硬件体系结构如图 5-2所示，分下面几个主要部分论述：<br>
      　　  
      <font color="#003399"><b>5-2</b></font><br>
      　<img src="../../../../images/chatp/chap05/028.gif"> <br>
      　　<b><font color="#003399">1.视频子系统 </font></b><a name="01"></a><br>
      　　视频子系统的关键技术是视频处理和显示引擎，它们是由82750 PB像素处理器，82750 DB显示处理器以及VRAM组成。存储器阵列VRAM存放所有DVI系统数据，包括：位映射数据，压缩编码数据，算法微码，素处理器82750 
      PB用微码执行视频图像快速处理算法，视频特技以及数字式运控制执行算法的数据结构以及控制显示功能的寄存器集数据。像动图像和静止图像的压缩编码算法以及解码算法。显示处理器82750 
      DB是非常灵活的可编程的显示处理器，它能够将不同的位映射数据变换成在监视器显示需要的模拟的RGB信号。<br>
      　　82750 PB像素处理器直接连到VRAM的随机或并行通道。82750 PB是具有较宽的指令字长（48位）的快速微码处理器。在25MHz时钟时，它的运行速度是25MIPS（Million 
      Instructions Per Second）。由于指令字的不同字段分别控制不同的硬件机构，所以这些指令可以同时执行多种操作。因此，82750 
      PB像素处理器每秒钟可以执行100M操作（100MOPS）。<br>
      　　某些指令字段控制的硬件结构特性，特别适合于图像处理的运算操作，它包括两个分开并对称的内部16位数据总线，为8位像素计算专门分开的ALU操作；在解压缩时为运动补偿设计了像素插值器，为解释压缩编码数据流设计了统计解码器；以及为了同DVI的VRAM传输数据所设计的四个先进先出数据缓冲区（FIFO）。<br>
      　　一个典型的操作是82750 PB像素处理器运行较小的微码译码器，它定时询问在VRAM中的命令表。由主计算机建立命令表，微码命令由主机直接引导加载到82750 
      PB微码存储器中。当命令表指出某些操作需要运行时，例如解码操作，微码译码器从VRAM中将一个微码块加载到82750 PB内部的微码存储器中，并且执行它。这些微码是由主计算机设计并加载到VRAM中的。<br>
      　　一个微码块通常是一些循环指令，它将重复执行给定的算法。在82750 PB内部存储的微码允许以25MIPS速度执行。如果微码命令表是在VRAM中，要考虑大于40ns的存取延时时间。<br>
      　　在执行时，算法从VRAM中获取压缩编码数据、位映射数据以及参数数据，并把算法结果存到VRAM中。在解压缩运动视频图像时，压缩编码视频数据的几帧有效成份以及解压缩数据的几幅位映射需要同时存在VRAM中。压缩编码数据输入队列采用FIFO方案，它允许从外部设备（例如硬盘）传输数据速率的变化，也允许解压缩算法需要提供数据速率的变化。解压缩的位映射队列也采用FIFO方案，它允许解压缩时，从一帧到另一帧速率的变化，即允许常用的每秒30帧速率的变化。它也支持运动压缩编码技术中所使用差帧技术，即使用该技术能够用前一帧重构现在这一帧。<br>
      　　AVK（Audio/Video Kernel）软件，在VRAM中还开辟了当前的显示缓冲区，在这里视频图像能够拷贝或改变比例。用这种方法允许多个视频数据流以任意的窗口尺寸同时显示在屏幕上。在82750 
      PB和VRAM之间，所有数据传送要在一秒钟内完成30帧，有效的82750 PB和VRAM之间的接口增强了系统性能。82750 PB非常紧密地连接到VRAM控制器，它是VRAM/SCSI/Capture门阵电路的一部分。该门阵可编程改变随机存储器的RAS和CAS（行、列地址选通）时序，以适应不同存储器芯片所需的时序特性。<br>
      根据存储器的情况，82750 PB能够满足从82750 DB显示处理器对VRAM控制器提出的提供地址，提前传送数据以及刷新周期的需要。82750 
      PB像素处理器有三种类型的数据传输周期的三组指针和间距寄存器，它们是亮度，色差和82750 DB寄存器组。82750 PB像素处理器从82750 
      DB显示处理器得到4bit VBUS信号，以满足这些数据传送周期的需要。一旦接受到请求，82750 PB能够仲裁并把这个请求提前通知到存储器控制器，把相应的指针寄存器的内容送到VRAM地址总线，最后把间距增量加到指针中。<br>
      　　82750 PB默认VRAM是视频引擎的一个重要成员，核心外的其他数据（主计算机，CD-ROM，音频数据以及获取器数据）都必需经过VRAM，才能到达或送出82750 
      PB。主机和82750 PB之间的主机接口门阵，汇集和仲裁从各个不同数据源来的请求信息。 <br>
      　　82750 DB显示处理器直接连到VRAM的串行或顺序通道。82750 DB是一个非常灵活的可编程的显示处理器，运算时钟最高可达45MHz，它能够支持各种不同的显示屏幕格式，包括NTSC 
      PAL， VGA和XGA。在最高时钟速度是28MHz时，不支持XGA和PAL，其他都支持。因为XGA需要44.9MHz，而28MHz时系统软件（AVK）不支持PAL。<br>
      　　82750 DB显示处理器有几种不同的VRAM的位映射格式，可直接解释成在监视器显示屏幕上所需要的模拟信号数据流。除了常用的彩色索引和RGB格式外，它还支持亮度（Y）和色差（U、V）的格式，这种格式对于高分辨率的静态图像和运动视频特别有用。 
      <br>
      　　对于运动视频，&quot;9 bit YUV&quot;格式是最常用的，在VRAM位射图中它用8位表示亮度，每4个水平像素和4个垂直扫描行用一个8位表示色差信号U、V。YUV数据在VRAM中分别在三个位映射区存储。换句话说，运动视频是用一个256×240采样集表示亮度信号Y的位映射，用64×60采样集表示一个U位映射和一个V位映射。<br>
      　　82750 DB显示处理器把这三个位映射区取来并混合在一起，完成解压缩最后的一步。同时，通过计算水平和垂直方向每个U和V的四个采样点的平均值，完成色差信号的插值。一旦完成了插值运算，82750 
      DB要进行从YUV到RGB彩色空间转换，把三个8位数字信号送到D/A变换器，最后输出RGB模拟信号到彩色监视器。<br>
      　　&quot;9 bit YUV&quot;显示格式需要82750 DB和82750 PB特殊处理，为了支持恰当的数据传送周期，它们要把VRAM中随机存放的数据变成顺序数据，因为亮度和色差数据对于给定的扫描线不是存放在相邻的存储空间，串行的VRAM通道可能包括亮度和色差数据，但是不在同一时间。解决问题的办法是：在扫描正程时实时接受高密的亮度（Y）数据，而在扫描逆程时接受低密的色差信号（U、V）。<br>
      　　每一行，82750 DB显示处理器最多请求82750 PB像素处理器两次数据传送周期，82750 PB紧密地连接到存储器控制器，而且它有亮度和色差在VRAM中数据的地址指针。每一扫描行请求一次Y数据传送，每四行请求一次U、V的数据传送，因为它们的采样比为4:1。<br>
      　　另外的数据传送形式，称之为&quot;寄存器型&quot;传送，每一帧至少一次。因为82750 DB显示处理器通过串行口要加载它自己的寄存器，所以在消隐的每一帧开始时，82750 
      DB自动地建立寄存器传送请求。同样为了满足更高分辨率而改变帧的格式，在帧内请求也可编程。<br>
      　　对于任何一种寄存器传送请求，都存在影响82750 DB显示处理器编程的系统时序问题。像素处理器82750 PB和VRAM控制器对给定传送请求的响应时间是可变的。这就是说，控制器可能正在忙于其他的正在进行的存储周期，而且存储器它自己的存储周期的时间间隔也可能随着时钟速率在变化，解决的办法就是编程控制器。插入请求之后，对于数据传送周期，为了完成　　VRAM串行通道的加载任务，82750 
      DB显示处理器必须等待。然后82750 DB把时钟数据加载到它自己的寄存器中。<br>
      　　82750 DB中的像素控制寄存器的移位时钟延迟参数（SCLK Delay）必须编程反映82750PB和VRAM对它请求最快的反应时间。这个时间是下述几项的总和；<br>
      　　(1) 82750 PB接受VBUS请求信号的同步时间；<br>
      　　(2) 当前使用的VRAM最长的存储周期；<br>
      　　(3) VRAM传送数据的时间。<br>
      　　注意，这些时间必须算到82750 DB的时间周期中，因为82750 PB和VRAM控制器通常运行的时钟速率与82750 DB是不同的。增加一点点额外的溢出时间，在这里是安全可靠的。如果在这里给的时间不够的话，82750 
      DB将接收错误的数据，即在一个时钟周期内VRAM串行口的内容是错误的。这时系统将失败，出现错误的亮度数据、错误的彩色数据或者错误的寄存器数据。由检查和检测出的错误的寄存器数据将引起系统停止。82750 
      DB显示处理器发一个停机码（Shut Down Code）到视频总线（VBUS）。<br>
      　　其他的时间问题也影响82750 DB的编程参数，例如视频总线的请求在视频总线上保持的时间长度（VBLEN），以及VRAM串行时钟的速率等。时间问题决定在不同条件下82750 
      DB所能支持的最大的分辨率；如水平消隐时间和VRAM串行口传输速度的平衡问题，因为它能够决定在水平消隐时间有多少彩色数据传给82750 DB显示处理器。82750 
      DB的时钟频率是很灵活的，但是对于任何给定的像素时钟速率以及给定的VRAM速度时，这种灵活性需要重新考虑。<br>
      <br>
      <b><font color="#003399">　　2.彩色键连子系统</font></b><a name="02"></a><br>
      　　Ⅱ型DVI系统Action Media 750Ⅱ通常认为在IBM主计算机上存在VGA或XGA图形系统，它能够为DVI系统提供高分辨率的图形。VGA和XGA是标准化的图形接口，有很好的编程环境。这样就存在两个分开的帧缓冲区，一个是为DVI运动视频的缓冲区，一个是VGA或XGA高分辨率图形的帧缓冲区，彩色键连子系统能够把这两个缓冲区结合在一起，在屏幕上显示。<br>
      　　在单个帧缓冲区的情况下，覆盖运动视频上的任何一个图形都需要以运动视频的帧速重新绘制这幅图形。这就是说运动视频帧每一次拷贝到显示窗口时，高分辨率的图形也要拷贝到同一视频帧，它包括先前的运动视频图像以及在运动视频图像上的图形。很清楚，要完成这么复杂的事情，需要更多的软件支持以及更大的82750 
      PB绘图带宽。<br>
      　　对于单个帧缓冲区，另一个复杂问题是运动视频的分辨率与高分辨率图形的匹配问题。DVI运动视频标准位映射分辨率是256×240（水平×垂直），对于由CD-ROM提供压缩编码数据速率它是一个最佳图像质量和有效而合适的分辨率。82750 
      PB能够提供足够的像素传输的带宽，可在一个任意尺寸内确定窗口的内部拷贝或改变位映射图像的尺寸。因此，如果把位映射分辨率扩大到640×480（VGA的分辨率），或者大于每秒30帧的位映射率，它的带宽会感到不足。如果DVI系统希望运动视频同时配上高分辨率的图形（VGA或XGA产生的图形），就需要解决这个问题。<br>
      　　现有的VGA或XGA系统，采用了将DVI系统模拟输出和上述图形系统的模拟输出相合并的办法，对于运动视频，它没有调用640×480的能力，图像的结果仍旧是很好的。事实上Ⅱ型DVI系统增加了灵活性，它能够把运动视频合并到任意主机图形系统的分辨率。用两种不同的方法，在水平方向上能够将256运动视频的采样增强到全屏幕宽：一种是82750 
      DB内部的方法，另一种是外部方法。<br>
      　　内部方法：通过编程82750 DB显示处理器选用每个像素大于一的时钟周期，能够增强像素（即采用1.5, 0, 2.5时钟周期/每个像素）。在水平方向上显示成人工的块状特性。更有用、更完美的内容技术是采用先进的82750 
      DB内插功能，在水平方向上将亮度信号扩展2:1。这就是说，对于位映射中的每个亮度信号，通过82750 DB显示处理器产生两个值。这些值的一个是位映射中的每个亮度信号，通过82750 
      DB显示处理器产生两个值。这些值的一个是位映射中的值，第二个值是邻近采样值的平均。彩色采样值的内插是用相同的方法，用这种方法就能把水平方向的256个像素扩展成512个像素。<br>
      　　外部方法：通过压控振荡器产生82750 DB需要的时钟，由锁相回路将压控振荡器的振荡频率锁到与主机图形系统振荡频率一致。这样就能把512个像素扩展到任意尺寸，在VBA的情况，640:512扩展比（5:4）是需要的。键连（Keying）/音响（Audio）门阵寄存器控制锁相回路，能够建立产生这个长宽比，因此，在20.140MHz 
      DVI 512像素系统上运行能够精确地与在25.175MHz 640VGA像素系统上运行相匹配。<br>
      　　这个技术解决了屏幕作用区的问题，但是当把82750 DB时钟系统锁相到外部的图形系统时，其它问题就表面化了。在锁相时，82750 DB显示处理器的水平和垂直计数器由外部图形系统的水平和垂直同步信号置位到零。如果水平的置位没有合适的产生，没有保持相对于82750 
      DB的时钟特性，在一行到一行的扫描时就会出现水平方向的跳动。<br>
      　　无论如何，这种方法是一个先进可行的方法，它能解决一般情况下DVI显示系统与其它任意水平分辨率显示系统的匹配问题。为了提供较好的全屏幕的显示匹配，它不一定需要常用的2:1或5:4图像显示系统的长宽比。由Intel公司的软件直接支持标准显示格式的锁定，对于非标准的显示格式将需要开发82750 
      DB相应的寄存器集，并修改驱动器的原码。<br>
      　　注意，采用高频的82750 DB（大于 45MHz）能够很容易将DVI显示分辨率匹配到高分辨率的图形系统上，如果从降低成本价格考虑，采用28MHz的82750 
      DB也能够匹配多种主机图形系统开发各种应用。<br>
      <br>
      　　<font color="#003399"><b>3.音频子系统</b></font><a name="03"></a><br>
      　　同视频引擎并行操作的是音频信号处理器，数字到模拟的转换硬件以及模拟滤波器组成的音频子系统。它执行音频信号的压缩编码和解压缩，数字信号到模拟信号的转换，最后送到外部的音频放大器及音响系统进行播放。<br>
      　　音频子系统的核心是模拟设备公司生产的AD 2105数字信号处理器（DSP），通过它完成所有音频信号的压缩和解压缩任务。DVI系统采用了自适应预测编码方法（Adaptive 
      Differential Pulse Code Modulation--ADPCM）算法把16位的采样数据压缩编码成4位码。DSP芯片还能控制音量、采样速率变化，从VRAM中抽取压缩编码数据，最后将解压缩的音频数据输出到D/A转换器。上述操作DSP的编程码及查找表（Look-up 
      Table）内容由主计算机处理器通过键连音频门阵电路加载。<br>
      　　像视频引擎一样，音频的数字信号处理器AD2105把VRAM作为它的压缩编码数据源，而且键连/音频门阵提供直接存储器存取方式（DMA），DSP能够以DMA方式从VRAM获取数据，并把结果放到VRAM中。和视频引擎不同的是，在开始显示之前，音频DSP至少译码一或两帧位映射数据，译码之后音频DSP不需要把结果再返回到VRAM中。在它自己的FIFO中为输出数据只保存最短的队列。键连/音频门阵电路包括时序电路，在正常情况下每次新的采样输出时向DSP发出中断请求。在中断服务子程序中，DSP将采样数据从FIFO队列中移开，通过门阵电路中的音频输出寄存器将它们传送到立体声的D/A变换器。音频输出寄存器完成D/A变换器接口需要的数据串行化任务。第二个DSP中断，在获取音频数据进行压缩编码时，DSP保持短的FIFO，响应当门阵输入缓冲区满时从键连/音频门阵发出的中断请求信号。第三个DSP重要的中断是垂直消隐中断。这个中断每个显示帧出现一次，目的是解决视频数据流和音频数据流的同步问题。<br>
      　　在DSP和主计算机CPU之间，以及DVI任意设备之间的通信可能采用下述两种方法：一种方法是通过VRAM中的结构数据；另一种方法是通过在键连/音频门阵中提供的到DVI的信息寄存器（MDVIR）以及到DSP的信息寄存器（MDSPR）。到DVI的信息寄存器提供从DSP到DVI主机及DVI设备的信息，DVI设备是挂到DVI总线的子系统。当DSP把一个信息写到DVI寄存器，键连/音响门阵就会发出一个音频中断信号，通过主机接口门阵接上这个信号，主机接口门阵把这个中断信号经过主机扩展总线的中断请求送给主处理器。当主机或DVI设备把信息内容读到DVI寄存器后复位音频中断。<br>
      　　在主机或其他DVI设备写一个信息到DSP寄存器时，键连/音响门阵将门阵内部某一位置1，DSP每1ms定时查询这一位。如果信息出现，DSP把这个信息读到DSP寄存器后，DSP消除这位的标志。<br>
      　　数字到模拟量的转换器是由Burr-Brown公司生产的PCM66P单片体音16位串行接口组成。跟着D/A变换器是双通道的模拟滤波器，它的截止频率近似固定在17kHz，并且具有5个极点。音频采样输出的速率最高可达44.1kHz，5极点的模拟滤波器用17kHz上限的截止频率很好地消除了采样频率和图像频率的影响。由DSP能够完成上限采样的速率转换的计算，它支持几种不同音频数据流采样速率转换到44.1kHz输出速率。<br>
      <br>
      <b><font color="#003399">　　4.DVI总线</font></b><a name="04"></a><br>
      　　为了支持视频和音频子系统，大量的基本数据必须在DVI的VRAM和DVI的其余设备之间传送，其余设备包括：外部设备，主机，以及获取子系统。在DVI系统中数据的通信通道采用具有多路开关功能的32位数据和地址总线，也称之为DVI总线。用该总线，不仅主机能够同DVI每个子系统通信（视频子系统，音频子系统，CD-ROM等），而且子系统之间也能够用DVI总线通信。<br>
      　　DVI总线是由VRAM并行通道的数据信号组成的，所有三个门阵，82750PB像素处理器以及VRAM都直接连到总线上，很多时间，DVI总线作为VRAM和82750 
      PB之间单一的数据总线，它们是默认的DVI总线的主设备。有时DVI总线也要为DVI系统中其他设备传送数据，例如，当主机处理器需要读音响门阵寄存器的内容，在这种情况下，DVI总线担当了不同的角色，它首先给出DVI设备的地址，然后再传送有用的数据。<br>
      　　为了在DVI总线上传输数据，首先必须把DVI总线控制权从82750 PB手中转让给申请控制权的DVI设备，主机接口门阵做为各种请求的仲裁器，这些请求可能来自主计算机音频子系统，CD-ROM子系统或者获取子系统。CD-ROM和获取子系统的请求通过VRAM/SCSI/Capture门阵合成一个信号。仲裁器采用按时间先后极其公正的方法，然后逐一执行。<br>
      　　一旦一个请求信号被仲裁器承认了，总线控制权从82750 PB手中转让给该设备，允许在DVI总线执行该设备的通信协议。当DVI总线可用时，主机接口门阵将从82750 
      PB得到主机总线允许信号（Host Bus Enable Signal--HBUSEN）。主机接口门阵给请求设备发一个回答信息、AUDACK或CACK信号。这时，请求设备发地址到DVI总线。主接口门阵同时还要观察82750 
      PB的有效的地址允许信息（Valid Address Enable Signal），一旦这个信号建立起来，主接口门阵将不接受其他的设备请求，同时通知请求设备，DVI总线已从地址总线切换到数据总线。<br>
      　　因为DVI总线实际上是由82750 PB的数据线组成的，当82750 PB需要存取其他DVI设备的数据时，问题就出现了，即具有多路开关的地址/数据总线的方法不能很好地解决问题，因为82750 
      PB是总线的主设备，而且把DVI总线只用作数据线。在这种情况下，选择几条82750 PB的地址直接连到几个门阵电路，将VA19：17地址线连到所有门阵电路，用来获得DVI设备的ID信息，低位地址线用来选择DVI设备的内部寄存器。<br>
      <br>
      <b><font color="#003399">　　5.获取子系统</font></b><a name="05"></a><br>
      　　获取子系统通过DVI总线和信息交换控制线协议与外部数字化设备相连。在VRAM/SCSI/Capture内部是地址指针和计数器，用它把从数字化仪得到的数据送到VRAM中。数据流是通过VRAM的随机通道。这种方法相对于串行通道它受到存储器存取速率带宽的限制，连接方便，造价比较低。如果将获取的数据通过VRAM的并行随机通道存到存储器，VRAVM的串行输出通道就能立即把它送到监视器，显示帧存储器的内容。<br>
      　　采用并行通道方法的另一个好处是获取系统不需要锁相到显示系统的频率，甚至较慢的扫描仪的速度都可以。获取系统也能够从隔行电视扫描光栅源获取数据，如NTSC或PAL，显示输出的图像照样可以选用非隔行扫描的设备，如VGA或XGA。获取系统还能够获取82750 
      DB不支持的位映射形式，如YUV12。<br>
      　　Ⅱ型DVI系统ActionMedia 750Ⅱ获取器模块是DVI系统Delivery板的一块子板，即做为Delivery板的一块背板和Delivery板一起占用一个IBM 
      PC机的插槽。现在获取器模块设计是非卖品、还不能仿制生产，但是Intel公司已经在ActionMedia 750Ⅱ技术参考手册中公布了获取器模块总线接口技术规定，为希望自己设计获取模块的用户提供方便。<br>
      　　<br>
      <b><font color="#003399">　　6.CD-ROM子系统</font></b><a name="06"></a><br>
      　　VRAM/SCSI/Capture门阵包括了一个小型计算机系统接口（Small Computer System Interface--SCSI），这个接口用于支持单个CD-ROM驱动器，做为压缩编码视频和音频数据源。把这个子系统加到Ⅱ型DVI系统中，不需要外部扩展卡，用较低的成本就能支持CD-ROM驱动器。另一个好处，从CD-ROM驱动器读出数据到VRAM，采用上述方法，可以减少对扩展总线带宽的需要。<br>
      　　在CD-ROM子系统中，采用了灵活的链块的直接存取器存取方式（Chain-block Direct Memory Access），同时，提供一个语法解释器的工具，即把到来的压缩编码的数据流解释成连续的视频和音频成份，并把它们分别放到VRAM的不同区域中。Intel公司的AVSS2.20全面地使用了这个特性，它需要这个语法解释器特性。Intel公司AVK软件执行数据流扫描方法，它把到来的数据流放到VRAM连续的空间中。<br>
      <br>
      <b><font color="#003399">　　7.主机接口</font></b><a name="07"></a><br>
      　　主机接口门阵为计算机系统监视并控制DVI系统提供多种方法。该门阵通过选择不同的门阵管脚能够连接到IBM PC的ISA（Industry Standard 
      Architecture）总线标准或者PS/Ⅱ的微通道（Microchannel）总线标准。<br>
      　　VRAM能够通过扩展存储器空间（Expanded Memory Space--EMS）窗口，或者经过I/O映射先进先出寄存器（First In 
      First Out--FIFO）存取VRAM中的数据。上述方法具有自动加1的特性。<br>
      　　能够通过EMS窗口，或者通过使用EMS窗口的快速方法存取DVI设备寄存器的内容，同时，它还提供单周期修改DVI设备地址指针的方法。<br>
      　　除了支持综合的数据I/O外，主接口门阵还可做为从DVI子系统到主机扩展总线中断的仲裁中心，中断源可能是视频子系统（82750 PB），音频子系统，CD-ROM子系统以及获取器子系统。依据屏蔽和把这些中断源映射到变化的扩展总线的中断级，可编程现有的中断系统。<br>
      <br>
      　　<font color="#003399">学习本节内容的主要目的是研究DVI系统成功和失败的经验教训，从而探讨理想的多媒体计算机系统应如何设计？为了达到这一目的，我们首先来学习什么是DVI系统？它是如何设计实现的？所用到的关键技术是什么？再研究它的不足。<br>
      　　那么何为DVI呢？DVI--Digital Video Interactive，数字视频交互式多媒体计算机系统。RCA公司的戴维・沙诺夫研究中心（David 
      Sanaoff Research Center in Princeton，New Jersey）于1983年开始了DVI技术的研究开发工作，在1987年3月第二次Microsoft 
      CD-ROM会议上，首次公布了DVI技术的研究成果，1988年10月Intel公司从GE公司买来了DVI技术，1989年Intel和IBM公司在国际市场上推出了DVI技术的第一代产品Action 
      Media 750，1991年又在美国comdex展示会上推出了第二代的DVI技术的产品Action Media 750Ⅱ。该产品荣获Comdex 
      91最佳展示奖和最佳多媒体产品奖。<br>
      　　该产品采用了PLV(Product Level Video)视频压缩编码算法；设计了两个专用芯片（82750 PB象素处理器及82750 DB显示处理器）；设计制造了三块门阵电路：82750LH主机接口门阵、82750LV 
      VRAM/SCSI/capture接口门阵、82750LA音频子系统接口门阵；首次设计了视频音频引擎 (AVE-Audio Video Engine)；开发了多媒体计算机软件系统： 
      AVSS(Audio Video Sub-System)和AVK(Audio Video Kernel)。 </font>
      <p><font color="#003399">　　从1989年的第一代DVI产品Action Media 750到1991年的第二代产品 Action 
        Media 750II，在技术上有了重大的改进，主要表现在以下三个方面：<br>
        　　一、 DVI系统II型和I型相比有了以下三点改进：<br>
        　　（1）性能指标高；II型 DVI系统在硬件设计时采用了8275O PB像素处理器和 82750DB显示处理器专用芯片，82750 PB和 
        82750 DB比起 82750 PA和 8275O DA在运算速度上快一倍，而且在微码引擎和指令系统方面也有了明显的改进。<br>
        　　（2）使用了专用的门阵电路：Intel公司在I型DVI系统的基础上，将其周边逻辑设计成三个门阵电路：82750 LH主机接口门阵；82750 
        LV VRAM／SCSI／Capture接口门阵；82750 LA音频子系统接口门阵。<br>
        　　（3）将多块处理板变成一块处理板：最早的DVI系统由5块板组成，后来I型DVI系统由3块板组成，II型DVI系统将它们集成在一块板上，视频和音频获取板也装在上面，只占一个IBM 
        PC标准插槽。<br>
        　　DVI系统是如何综合处理声、文、图信息的？从整体上如何把握DVI系统的结构和原理。DVI系统的原理如图5.2所示。<br>
        <br>
        　　二、DVI系统解决计算机综合处理声、文、图信息的方案是：<br>
        　　・采用PLV(Product Level Video)视频压缩编码算法<br>
        　　・设计了二个专用芯片<br>
        　　82750PB (PA) 像素处理器<br>
        　　82750DB (DA) 显示处理器<br>
        　　・设计制造了三块门阵电路<br>
        　　82750LH 主机接口门阵<br>
        　　82750LV VRAM/SCSI/Capture接口门阵<br>
        　　82750LA 音频子系统接口门阵<br>
        　　・提出了视频音频引擎的概念--AVE Audio video Engine<br>
        　　・同时设计开发了音频视频子系统AVSS and 音频视频核AVK<br>
        　　AVSS-------Audio Video Sub-System (DOS)<br>
        　　AVK ------- Audio Video Kernel(Windows)<br>
        　　从整体上了解了DVI系统的硬件结构，下面我们一起来理解AVE的概念。<br>
        　　1．AVE的概念AVE--Audio Video Engine，音频视频引擎<br>
        　　Intel和IBM研制开发的Ⅱ型DVI系统，荣获了&quot;Comdex 91&quot;最佳多媒体产品奖和最佳展示奖。系统中首次引进视频音频引擎AVE的概念。AVE是由视频子系统、音频子系统、彩色键连子系统、视频音频总线、获取子系统、CD-ROM子系统及主机接口子系统七部分组成。<br>
        理解AVE的概念。要把握AVE主要由视频子系统、音频子系统和音频视频总线组成，那么理解AVE也就是要理解音频子系统、视频子系统和音频视频总线这三部分的各自的组成、功能和原理。<br>
        　　2．如何理解AVE？<br>
        　　AVE主要由视频子系统、音频子系统和音频视频总线组成。<br>
        　　（1） 视频子系统<br>
        　　①功能：视频处理和显示引擎。<br>
        　　视频信号的压缩编码、视频信号处理和视频信号的显示。<br>
        　　②组成：<br>
        　　82750 PB 像素处理器<br>
        　　82750 DB 显示处理器<br>
        　　VRAM<br>
        　　③工作原理：<br>
        　　视频---PLV压缩算法（由像素处理器执行）---VRAM里存放微程序。 <br>
        　　PLV压缩算法<br>
        　　Product Level Video<br>
        　　CE公司购买的 PLV AVI 文件<br>
        　　④核心：<br>
        　　VRAMVRAM结构：<br>
        　　可编程的CRT-C<br>
        　　并行通道连到像素处理器<br>
        　　串行通道连到显示处理器 <br>
        　　VRAM功能： <br>
        　　存放所有DVI系统数据，包括：位映射数据、压缩编码数据、算法微码、控制执行算法的数据结构以及控制显示功能的寄存器集数据。像素处理器82750PB82750PB结构：<br>
        　　82750PB像素处理器直接连接到VRAM的随机或并行通道。<br>
        　　a. 82750PB具有48位指令字长，处理能力强，可以同时执行多种操作，每秒可执行100M操作（100MOPS）。某些指令字段控制的硬件结构特性，特别适合于图像处理的运算操作。<br>
        　　b. 它包括两个分开并对称的内部16位数据总线，为8位像素计算专门分开的ALU操作；在解压缩时为运动补偿设计了像素插值器，为解释压缩编码数据流设计了统计解码器;为了同DVI的VRAM 
        传输数据所设计的四个先进先出数据缓冲区（FIFO）。一个微码块通常是一些循环指令,它将重复执行给定的算法。微码表在VRAM中，所有的时序信号都是82750PB负责产生,读字RAM的时序信号，而且适应不同的VRAM，它可以改变。82750PB功能：<br>
        　　可编程专用处理器,用微码执行视频图像,快速处理算法、视频特技以及数字式运动图像和增进图像的压缩算法，以及解码算法。</font></p>
      <p><font color="#003399">　　显示处理器82750DB<br>
        　　82750DB结构：<br>
        　　显示处理器连接到VRAM的串行通道。a.它是非常灵活的显示处理器，可编程的显示处理器， 运算时钟可达到45MHZ。能够 适应不同的监视器。输入和摄象机同步，输出和VGA同步。b.它能将几种不同的位映射格式，解释成在监视器显示屏幕上所需要的模拟信号数据流。<br>
        　　例如：YUV信号, 9bit , 每一行请求一次Y，每四行请求一次U、V。<br>
        　　它能完成从不同存储器取来，完成插值运算。<br>
        　　将YUV 转换为 RGB，彩色空间转换。<br>
        　　82750DB功能：<br>
        　　是非常灵活的显示处理器，它能够将不同的位映射数据变换成在监视器显示需要的模拟的RGB信号。<br>
        　　（2） 音频子系统<br>
        　　功能：与视频子系统并行操作。主要执行音频信号的压缩和解压缩；数字信号到模拟信号的转换，最后送到音频放大器和音响系统进行播放。组成：DSP音频信号处理器、 
        <br>
        　　数字到模拟转换硬件<br>
        　　模拟滤波器等工作原理：<br>
        　　音频压缩编码用ADPCM 4E<br>
        　　缺点：不符合国标(G.711/721/728/729)<br>
        　　核心部件：1.AD(Analog Device)公司生产的AD-2105<br>
        　　a. DVI系统采用ADPCM 4E压缩算法<br>
        　　b. 控制音量<br>
        　　c. 采样速度<br>
        　　d. 从VRAM中读语音压缩编码，解压缩编码，送到D/A变换器。上述操作DSP的编程码及LUT，由音频门阵通过DMA加载。<br>
        　　DSP在开始显示之前，译1-2帧位映射数据放在FIFO中。2. D/A转换<br>
        　　单片16位，D/A转换器 <br>
        　　模拟滤波器（ 17kHz截止频率、有5个极点） <br>
        　　音频采样输出的速率最高可达44.1kHz<br>
        　　（3） 音频视频总线<br>
        　　组成：<br>
        　　该总线是由VRAM并行通道数据信号组成，采用具有多路开关功能的32位数据和地址总线，主机能够通过该总线与DVI每个子系统（视频、音频、CD-ROM等）通信，而且子系统之间可以用　　DVI总线通信。原理：<br>
        　　主机接口门阵作为各种请求的总裁器，在很多时间里，进行82750PB和VRAM之间的通讯。其他设备用总线时，应提出申请，通过主机接口门阵仲裁来解决。请求信号被仲裁器承认后，总线控制权可从82750 
        PB 手中转让给其他设备如：<br>
        　　音频子系统<br>
        　　CD-ROM子系统<br>
        　　获取子系统</font><br>
      </p>
      </td>
  </tr>
</table>
</body>
</html>

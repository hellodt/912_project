<html>
<head>
<title>Untitled Document</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<link rel="stylesheet" href="../../../../css/text.css" type="text/css">
</head>

<body bgcolor="#FFFFFF" text="#000000">
<table width="100%" border="0" cellspacing="3" cellpadding="3">
  <tr> 
    <td class="text">　　视频会议系统是一种分布式多媒体信息管理系统，或称分布式多媒体通信系统。它不仅仅要求能够快速传送视频、音频和数据，而且要求要能满足一定的服务质量，如视频和音频连续媒体，必须保证在明确规定的时间内无差错的传送给用户，以便在终端系统播放具备良好的质量。为了获得服务质量保证，在业务执行过程中，需要对计算机、网络、MCU及终端的各种资源进行控制和管理。<br>
      　　视频会议系统需要：<br>
      　　・高数据吞吐量：视频会议系统中的视频和视频数据的特性需要高的数据吞吐量，即使经过压缩，一个视频数据流也需要64kbps到2Mbps的数据吞吐率。<br>
      　　・实时性：视频会议系统的终端同时要播放视频、音频和数据信息，这些信息之间存在较严格的时间要求，因此需要为无差错传送提供时间保证。<br>
      　　・服务质量保证：用户使用视频会议业务总是和其他业务进行对比，如果不能提供一定的服务质量保证，用户就会选择其他种类的业务，如无线电、电话等。<br>
      　　上述三种需求都表明需要时间、空间和频率资源管理系统，以满足视频会议系统对服务质量的要求。为此，在这一节中我们将进一步讲述：视频会议系统的服务质量，视频会议系统资源的静态管理，资源的动态管理以及视频会议系统的安全保密问题。<br>
      <font color="#003399"><b>　　一、视频会议系统的服务质量（QOS）</b></font><a name="01"></a><br>
      　　视频会议系统需求是多样化，多媒体业务也是多样化，为使这些需求和业务能够定量化的描述，往往采用参数化，这样不必每个应用都实行一套新的系统服务集。为使服务参数化，国际标准化组织采用服务质量QOS（Quality 
      Of Service），到20世纪80年代末，人们开始从不同角度深入研究QOS，主要集中在QOS管理，QOS标准，QOS主客观的统一等问题。所谓QOS管理，是指计算机和网络系统采用一定的方法，满足用户应用的服务请求，并保证QOS的过程。在这一过程中计算机和网络系统将用户应用的服务请求映射成一些预先定义的QOS参数，进而与系统和网络的资源对应起来，通过资源的分配和调度，满足用户的应用需求，这一过程叫QOS协商。QOS协商有时可能不成功，原因是系统和网络无法完全满足带宽、延迟和正确率的要求，这时通常又要进行QOS的重协商，以确定是否允许降低QOS。<br>
      　　国际标准化组织ISO所制定的著名的七层标准计算机通信协议OSI-RM中，定义了一些数据通信应用的，局限于会议层和传输层的一些静态参数，OSI-RM中将QOS参数分成面向功能的QOS参数和非面向功能的QOS参数两类，如表8.4及表8.5所示。ISO定义的这些QOS参数，在实际操作中只允许用户应用将高层的QOS参数简单不变的映射到低层。而且，为传输层定义的QOS参数都是局限于会话的各个阶段的。 
      <br>
      <font color="#003399"><b> 表8.4 
      OSI面向功能的QOS参数</b></font><br>
      <table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#006699">
        <tr>
          <td>
            <table width="100%" border="0" cellspacing="1" cellpadding="1">
              <tr bgcolor="#FFFFFF"> 
                <td class="text" width="18%"> 
                  <div align="center"><font color="#FFFFFF"><font color="#000000">参数</font></font></div>
                </td>
                <td class="text" width="82%"> 
                  <div align="center"><font color="#FFFFFF"><font color="#000000">意义</font></font></div>
                </td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td class="text" width="18%"><font color="#000000">　通量</font></td>
                <td class="text" width="82%"><font color="#000000">　单位时间内在一个连接上传递的最大字节数</font></td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td class="text" width="18%"><font color="#000000">　传输延迟</font></td>
                <td class="text" width="82%"><font color="#000000">　从数据传输请求开始到数据传输完成确认为止的时间间隔</font></td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td class="text" width="18%"><font color="#000000">　出错率</font></td>
                <td class="text" width="82%"><font color="#000000">　数据单元错传、丢失或重传的概率</font></td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td class="text" width="18%"><font color="#000000">　建立连接延迟</font></td>
                <td class="text" width="82%"><font color="#000000">　从请求建立连接开始到建立连接确认为止的时间间隔</font></td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td class="text" width="18%"><font color="#000000">　连接失败率</font></td>
                <td class="text" width="82%"><font color="#000000">　建立连接失败的概率</font></td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td class="text" width="18%"><font color="#000000">　传输失败率</font></td>
                <td class="text" width="82%"><font color="#000000">　传输失败的概率</font></td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td class="text" width="18%"><font color="#000000">　重置率</font></td>
                <td class="text" width="82%"><font color="#000000">　在给定的时间内服务提供者释放连接或重置连接的概率</font></td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td class="text" width="18%"><font color="#000000">　释放延迟</font></td>
                <td class="text" width="82%"><font color="#000000">　从释放请求开始到释放请求确认为止的时间间隔</font></td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
      　　在用户层，一个网络多媒体系统可能包含三个抽象层：应用层、系统层（通信和操作系统）和设备层（网络和多媒体终端设备），这三层都需要考虑QOS参数。<br>
      应用层QOS参数描述了应用业务的需求，通常用媒体质量和媒体关系来说明，媒体质量包括源和接收设备的特性，如端对端的延时；媒体关系说明了媒体之间的关系，如媒体之间的同步关系，媒体转换流间和流内之间的关系。<br>
      <font color="#003399"><b> 表8.5 
      OSI非面向功能的QOS参数</b></font> <br>
      <table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#006699">
        <tr>
          <td>
            <table width="100%" border="0" cellspacing="1" cellpadding="1">
              <tr bgcolor="#FFFFFF"> 
                <td class="text" width="26%"> 
                  <div align="center"><font color="#000000">参数</font></div>
                </td>
                <td class="text" width="74%"> 
                  <div align="center"><font color="#000000">意义</font></div>
                </td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td class="text" width="26%"><font color="#000000"> 　访问权限</font></td>
                <td class="text" width="74%"><font color="#000000">　防止非法用户访问</font></td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td class="text" width="26%"><font color="#000000">　优先级</font></td>
                <td class="text" width="74%"><font color="#000000">　包括传输优先级和使用优先级</font></td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td class="text" width="26%"><font color="#000000">　成本</font></td>
                <td class="text" width="74%"><font color="#000000">　信息传输时所消耗的资源或资金</font></td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
      　　系统层QOS参数描述了从应用层QOS得到的关于通信和操作系统的需求，这些参数以定量和定性的形式给出，定量的标准有每秒比特数、允许误差率、任务处理时间和数据单元大小等；质量判别准则说明期望的业务，如流间同步、按次序的数据传递、错误恢复机制和调度机制等。<br>
      　　网络层QOS参数可以用网络负荷及网络特性来说明，网络负荷指正在进行的服务的需求，如相继到达时间；网络特性如延时、带宽和抖动（多个包之间延时的变化）。网络服务依赖于网络业务量模型（连续请求的个数）和业务参数如峰值数据传输率或突发长度等。<br>
      　　设备QOS参数，如媒体的数据传输率等。如果没有明确指明QOS参数，则采用最佳服务。下面给出有关多媒体服务通用的QOS参数，如表8.6所示。<br>
      <b><font color="#003399"><b> </b>表8.6 
      多媒体服务QOS参数</font></b><br>
      <table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#006699">
        <tr>
          <td>
            <table width="100%" border="0" cellspacing="1" cellpadding="1" class="text">
              <tr bgcolor="#FFFFFF"> 
                <td width="21%"><b>　媒体类型</b></td>
                <td width="21%"><b>　业务质量参数</b></td>
                <td width="29%"><b>　范围</b></td>
                <td width="29%"><b>　质量特性</b></td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="21%" rowspan="5" valign="top">　音频应用层QOS</td>
                <td width="21%"> 　样本大小</td>
                <td width="29%">　8比特</td>
                <td width="29%">　电话语音质量</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="21%">　采样率</td>
                <td width="29%">　8kHz</td>
                <td width="29%">　中间延时125μs</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="21%">　样本大小</td>
                <td width="29%">　16比特</td>
                <td width="29%">　CD音频</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="21%">　采样率</td>
                <td width="29%">　44.1kHz</td>
                <td width="29%">　中间延时22.7μs</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="21%">　回放点</td>
                <td width="29%">　大约从100到150ms</td>
                <td width="29%">　取决于网络延时</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="21%" rowspan="9" valign="top">　音频网络层QOS</td>
                <td width="21%" rowspan="3" valign="top">　端对端延时</td>
                <td width="29%">　0到150ms</td>
                <td width="29%">　绝大多数可接受</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="29%">　150到400 ms</td>
                <td width="29%">　可能会影响一些应用程序</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="29%">　400 ms以上</td>
                <td width="29%">　不可接受</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="21%">　环绕延时</td>
                <td width="29%">　直至800 ms</td>
                <td width="29%">　谈话情形可接受</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="21%">　包丢失</td>
                <td width="29%">　≤10<sup>-2</sup></td>
                <td width="29%">　电话质量</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="21%" rowspan="4">&nbsp;</td>
                <td width="29%"> 　16kbps</td>
                <td width="29%">　电话语音</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="29%">　32kbps</td>
                <td width="29%">　音频会议语音</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="29%">　64kbps</td>
                <td width="29%">　接近CD音频</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="29%">　128kbps</td>
                <td width="29%">　CD质量音频</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="21%" rowspan="11" valign="top">　视频应用层QOS</td>
                <td width="21%" rowspan="3" valign="top">　帧率</td>
                <td width="29%">　30fps</td>
                <td width="29%">　NTSC制式</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="29%">　25fps</td>
                <td width="29%">　PAL制式</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="29%">　60fps</td>
                <td width="29%">　HDTV格式</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="21%" valign="top">　帧宽度</td>
                <td width="29%">　≤720</td>
                <td width="29%">　MPEG编码后的视频信号</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="21%" valign="top">　帧高度</td>
                <td width="29%">　≤576</td>
                <td width="29%">　垂直大小</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="21%" valign="top" rowspan="2">　颜色精度</td>
                <td width="29%">　每像素8比特　</td>
                <td width="29%">　256色的灰度精度</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="29%">　每像素16比特</td>
                <td width="29%">　6536种可能的颜色</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="21%" rowspan="2" valign="top">　像素纵横比</td>
                <td width="29%">　4:3　</td>
                <td width="29%">　NTSC和PAL电视制式</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="29%">　16:9</td>
                <td width="29%">　HDTV格式</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="21%" rowspan="2" valign="top">　压缩比</td>
                <td width="29%">　2:1　</td>
                <td width="29%">　HDTV无损压缩</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="29%">　50:1</td>
                <td width="29%">　HDTV有损压缩</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="21%">　视频系统层QOS</td>
                <td width="21%">　解码器缓冲</td>
                <td width="29%">　≤376832个比特</td>
                <td width="29%">　与MPEG相关的参数　</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="21%" rowspan="11" valign="top">　视频网络层QOS</td>
                <td width="21%" rowspan="7" valign="top">　带宽</td>
                <td width="29%">　≤1.86Mbps</td>
                <td width="29%">　MPEG编码的视频　</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="29%">　64Kbps到2Mbps</td>
                <td width="29%">　H.261编码的视频</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="29%">　1544Kbps到2Mbps</td>
                <td width="29%">　H.120</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="29%">　140Mbps</td>
                <td width="29%">　TV, PCM编码</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="29%">　超过1Gbps</td>
                <td width="29%">　HDTV未压缩质量</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="29%">　500Mbps左右</td>
                <td width="29%">　HDTV无损压缩</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="29%">　20Mbps</td>
                <td width="29%">　HDTV有损压缩</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="21%" valign="top">　比特误码率</td>
                <td>　≤10<sup>-6</sup> 　</td>
                <td width="29%"> 　长期比特误码率</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="21%" rowspan="2">　包丢失</td>
                <td width="29%">　≤10<sup>-4</sup></td>
                <td width="29%">　未压缩视频</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="29%"> 　≤10<sup>-11</sup></td>
                <td width="29%">　压缩视频</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="21%">　端对端延时</td>
                <td colspan="2">　≈250 ms</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="21%">　音频/视频</td>
                <td width="21%" valign="top">　同步误差</td>
                <td>　±80 ms　　　　</td>
                <td>　唇同步</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="21%">　音频/图像</td>
                <td width="21%">　同步误差</td>
                <td width="29%">　±5 ms</td>
                <td width="29%">　带有注解的音乐</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="21%" rowspan="3" valign="top"> 　数据网络层QOS</td>
                <td width="21%">　带宽</td>
                <td width="29%">　0.2到10Mbps</td>
                <td rowspan="3" valign="top">　文件传输</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="21%">　端对端延时</td>
                <td width="29%">　≈1秒</td>
              </tr>
              <tr bgcolor="#FFFFFF"> 
                <td width="21%">　包丢失</td>
                <td width="29%">　10<sup>-11</sup></td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
 <br>
      　　下面简单介绍一下QOS的管理和控制：<br>
        　　(1) QOS的分层、分维和分类（Layer、Dimension and Category）：早期QOS概念是笼统定义的，没有考虑应用和网络的分层，不能很好的描述用户QOS的请求，OSI（Open 
        System Interconnection）虽然按层次描述QOS，但由于制定各层标准的工作小组是单独工作的，所以各层QOS之间没有明确统一的定义。CCITT的QOS只局限在传输层上。最近有人把QOS划分为4层（Layer）：应用层、综合层、传输子系统和网络层。每一层又划分成许多维（Dimension），维是用来描述系统行为的某一方面的特征，如吞吐量、延迟、误差率、同步和多模式，　　如果说层在服务质量体系中是上下纵向的，那么维就是左右横向的，类则是横向一些维的集合，类作为QOS管理的逻辑单元。<br>
        　　(2) QOS参数的定义和映射（Specification and Mapping）<br>
        　　QOS参数指的是能够为系统解释，用户需要的QOS的一些性能指标，QOS参数的定义除了要包含相应指标的上下界限，还应包含达不到要求时系统的反应等。QOS参数的定义在系统各个层次是不同的，但同一维所对应的不同层次的QOS参数含义是相关的。QOS的映射是指系统自动将用户高层次QOS请求解释成较低层次的QOS参数，不必关心该QOS请求在较低层次是如何通过各种复杂方式表示的。<br>
        　　(3) QOS的协商和准许控制（Negotiation and Admission Control）：QOS协商包括用户和系统之间的QOS协商和端到端（end 
        to end）的QOS协商。用户和系统之间的QOS协商过程如下：首先分析用户应用需求，将其分解为一些元素，使得每一个元素都可由一个独立的QOS参数表示，且这些参数合起来足以满足用户的QOS需求。然后把所得的参数组向下层进行映射，同时进行交换，以确定下层是否支持这些QOS要求。端到端的QOS协商分为前向和后向两个阶段，前向阶段由一端用户发起，将其QOS请求逐级向下层映射并作比较，如得到允许，就通过网络发给另一端的用户。在网络另一端，通过逆向映射，到达用户应用层。后向阶段，由网络另一端的应用根据其能力修改得到的QOS参数，然后再逐层向下协商，并通过网络传回发起端，这时所得到的QOS参数，就是两端用户最终通信的QOS。<br>
        　　在QOS协商过程中，对于用户应用每一个新的需求，系统都要把其对应的QOS与系统当前的资源进行比较，并根据一定的策略确定该行为是否能够实施，这种比较过程和判断策略就是QOS准许控制的主要内容。<br>
        　　(4) 资源分配和调度（Alloction and Scheduling）：<br>
        　　 QOS映射的最终的结果是将用户应用的QOS请求映射成系统可以控制的资源，这些资源包括计算机系统的CPU、进程、线程、内存缓冲区、网络的带宽和路由等，系统通过分配和调度这些资源满足用户应用的QOS请求。合理地进行资源分配和调度是成功地进行QOS管理的关键，解决这个关键问题需要有效的资源分配和调度算法，如Internet中的资源预约算法（SRP），基于公平队列和静态优先级的算法、分级带宽分配算法及广域网通道建立算法等。<br>
        　　(5) QOS维护、监视和控制（Maintenance、Monitoring and Policing）：<br>
        　　 QOS的维护是指在网络负载不断变化的情况下，动态地管理资源，以确保QOS协商过程中所确定的QOS不受负载变化的影响。QOS监视是指系统的每一层动态地监视下一层的行为是否保证了预期的QOS。通常采用的维护方法是，采用反馈循环将实际所得到的QOS与预期的值作比较，通过调整系统资源来改善QOS。在最上层的用户应用接口处，当系统检测到下层已无法保证用户的QOS要求时，通常应向用户报告QOS降级信息，让用户自行决定是适应还是终止，或者对该行为的QOS重新协商。QOS控制是指在的QOS监视基础上，对越界行为进行强制性处理。<br>
        　　(6) QOS再协商（Re-negotiation）：<br>
        　　 如果用户设置的初始QOS的要求得不到满足，用户修改QOS要求，需要重新协商称之为再协商。在传输过程中，若用户对当前服务质量不满意，用户也可重新申请QOS，这也称之为再协商。QOS再协商所指的并不是某一个QOS元素的局部调整，而是指整个行为所有的QOS元素，由用户应用级开始往下重新进行QOS协商的过程，QOS再协商通常用于QOS降级后的响应过程。<br>
        <br>
      　　<b><font color="#003399">二、资源的静态管理和动态管理</font></b><a name="02"></a><br>
        　　视频会议系统是一个复杂的计算机网络系统，它包含很多资源，这些资源分布在计算机、终端、多点控制单元、路由器、交换机以及通信信道上。分布在计算机上的资源主要有处理器、总线、内存、进程、线程、网络接口板、磁盘空间等，分布在路由器和交换机上的资源有处理器、总线、缓冲区、各种数据表格、数据接收端口、数据发送端口等。除了上述资源外，还有一些不可见成份，即对这些可见资源的使用策略，它包括内存管理策略、进程和线程调度算法、缓冲算法、差错恢复算法、流控制算法及阻塞控制算法等。也有人把视频会议系统的资源分成动态资源和静态资源，动态资源提供各种业务，如CPU或处理各种协议的网络适配卡等；静态资源标志了动态资源所需的系统能力，如主存（缓冲空间）或带宽（链路吞吐量）。资源可以被一个进程独占，有的也可被多个进程共享，例如一个扬声器可以是一个独占的资源，而带宽则可以是一个共享的资源。如果资源在系统中只存在一次，可以将该资源称为单次资源，相反可以称为多次资源，如在一个多处理器系统中，各个CPU是多次资源，而在传统的工作站中，CPU则是单次资源。<br>
        　　在明确了视频会议系统的服务质量要求后，我们就可根据这些要求，研究资源管理问题，找出相应的解决方案。资源是由视频会议系统的资源管理子系统进行管理，它包括主机和网络节点之间的资源管理协议，用它交换有关资源的信息。资源管理的主要目的是保证多媒体数据的传递，主要有下述三个内容：<br>
        　　（１）在会议建立过程中保留和分配资源，以保证服务质量能够满足QOS的要求；<br>
        　　（２）在多媒体数据传送过程中，采用适当的QOS服务策略进行资源分配；<br>
        　　（３）视频会议的各个阶段要进行相应的资源改变。 <br>
        　　<font color="#003399">1.资源的静态管理</font><br>
        　　在视频会议系统中，终端用户都希望系统能够按用户提出的QOS需求提供服务，在多媒体数据发送之前，用户定义的需求必须和资源管理系统进行通信，然后协商QOS参数，如果有分歧，在层之间进行说明和解释；最后，所需资源必须在发送方和接收方之间的通路上进行准许、保留和分配。在会议建立过程中完成上述三步，会议结束后，要考虑资源的释放。<br>
        　　(1) QOS的协商和解释<br>
        　　QOS的协商可是同一层，如应用层对应用层，也可以是不同层，如应用层对系统层，按照ISO的术语，对等协商就是呼叫者和被呼叫者的协商，而不同层地协商可以是业务使用者和业务提供者的协商。协商的目的是：<br>
        　　・在服务的使用者和提供者之间建立公共的QOS参数值；<br>
        　　・任何时刻为满足需要使用必要的资源，以达到充分利用资源的目的。<br>
        　　在视频会议系统中，最常见的QOS协商过程是能力交换的过程，在会议系统建立过程中，会议双方为了能够正确通信，必须进行能力的协商，达到一致后，才能进行后续的过程。能力的选择和确定，其目的是为了保证只提供和接收对方能够支持的业务，对于点对点的情况，能力交换的发起方必须对通信双方能力集进行分析，求取能力公共集的最大值，并采用该参数进行模式切换，对于多点会议的情况，上述协商过程是由多点控制单元（MCU）来完成的。<br>
        　　(2) 资源许可<br>
        　　每层经过查询或通过协商和解释得到QOS说明后，接下来的一步，是资源许可。许可过程基于QOS说明并使用一个嵌入在资源管理器中的业务。许可业务检查是放在发送方和接收方之间通路的各个节点上。许可测试取决于在每层的控制机制的测试。同时，任何一个QOS协商和资源许可必须和一个开销函数紧密联系在一起，可以决定向一个事先预定服务的用户的收费少于一个需要即时服务的用户。<br>
        　　为了控制资源的有效性，我们在视频会议系统中采用了三种类型的许可测试策略：<br>
        　　・共享资源的调度测试，例如CPU调度性测试和在网络接入点的包调度性测试以及在各个网络节点处进行的延时、抖动、吞吐量和可靠性的测试。<br>
        　　・为保证延时和可靠性对分配的缓冲进行的空间测试。<br>
        　　・为保证吞吐量在主机总线和网络中进行的链路带宽测试。<br>
        　　(3) 资源的保留和分配<br>
        　　资源的保留和分配基于许可测试的结果，在大多数系统中资源的保留和分配是简单的，即资源只在发送方和接收方单方向进行保留。资源的保留和分配需要嵌入在资源管理器中的一套保留和分配的函数以及在资源管理器之间进行信息通信的保留协议。<br>
        　　下面给视频会议系统中所采用的资源保留和分配协议的工作流程： <br>
        　　・呼叫建立的发起方以一个保留消息（连接请求）发送一个QOS说明；<br>
        　　・在路径中的每个路由器、交换机或其他实体中，保留协议向对应的资源管理器传递一个新资源保留请求。<br>
        　　・经过许可决策，资源管理器保留资源并为QOS预备更新特定的业务信息；<br>
        　　・在链路的末端，最后一个实体发回一个分配信息（连接确认）给发起方，其格式为：或接受、或修改和或拒绝的回答以及最后的QOS值。<br>
        　　・分配消息通过路径返回到发起方。按照接受、修改或拒绝最后QOS参数的消息指令，每个资源管理器轮流分配或释放保留的资源。<br>
        　　(4) 资源的释放<br>
        　　经过传输之后，资源被释放。CPU、网络带宽和缓冲区空间都被释放，并且媒体流的连接也被关闭。关闭进程必须在不打断其他网络流的情形下进行并且通过资源管理器更新释放资源为可用资源。<br>
        　　在视频会议系统中，其资源释放有三种方式：<br>
        　　・发送方请求关闭呼叫。这意味着在发送方和接受方路径上对应的呼叫的所有连接的资源都必须被释放，并且必须对每个节点更新资源的可用性。<br>
        　　・接受方请求关闭呼叫。该请求发送给发送方，并按照发送方关闭的形式进行资源的释放。<br>
        　　・资源维护系统指示关闭。这可能发生在，虽然传输已经中止但是资源没有被释放。因而，一个和定时器一道工作的监视子系统应该监视连接状况和检测参与方是否仍然处于活动状态。对于此种情形，资源释放由资源管理系统本身发起。<br>
        　　<font color="#003399">2.资源的动态管理</font><br>
        　　假设已经完成了QOS的协商和资源分配的需求，资源管理器必须支持资源在传输期间的可访问性，即资源的动态管理。满足时间、空间、设备、频率和可靠性需求的工作属于不同的管理部件，如进程管理器、缓冲管理器和流量控制器等部件。<br>
        　　(1) 进程管理<br>
        　　多媒体传输涉及多个独立的任务：数据的移动、控制和同步等。由于所有这些任务是由同一个资源管理器进行处理，因而其使用必须进行调度。调度由进程管理器完成，进程管理器是资源管理器的一部分。进程管理器的调度者按照特定的调度策略将任务映射到资源管理器中以使所有任务都满足需求。<br>
        　　(2) 缓冲区管理<br>
        　　主机系统的有限内存带宽对多媒体应用带来很多的限制，这些应用需要大量数据的有效移动，而这却不能通过传统的数据拷贝方法来实现。类似的，目前操作系统中用于扩大内存的有效的页面技术和磁盘交换技术也不适用，因为多媒体数据不能放在真正的主存中以满足时间的需求。<br>
        　　(3) 传输率和流量控制<br>
        　　因为多媒体数据以某个协商的传输率发送和使用网络资源，网络多媒体系统通信协议必须包括基于传输率的流量控制。因为现有的网络操作系统并不支持实时的视频会议信息，因此要提供在局域网和广域网上的连接方案。<br>
        　　下面给出在实际系统的研制过程中遇到的问题和相应的解决方案：<br>
        　　・路由和桥接功能：路由器和网桥不是用来处理实时信息的，为了克服这个瓶颈，视频网关可用作视频路由器，路由器和网桥不处理视频信息。<br>
        　　・网络协议：在局域网传输的环境下，为了建立高质量的对话，必须保证会议视频数据的可靠传输，因此需要开发在TCP/IP和UDP/IP上的传输层协议用来控制实时的音频和视频信息流量，利用这个协议能可靠地传输控制信息，音频信号可以几乎是即时的传输，视频和数据信号在保证音频传输的前提下，做到最好的传输，从系统的角度来说，呼叫的建立和拆除运行于TCP/IP，会话的数据传送运行于UDP/IP上。<br>
        　　・带宽的拨出和分配：视频会议需要固定的带宽来传送高质量的音频和视频信息，但是标准的网络（如以太网）不提供这种功能，因此必须提供这种带宽的需要。每个局域网上传输的384kbps的会话需占用的带宽2×384+150K左右的包头，加起来约为900K，大约占10M以太网的9%的带宽。视频网关控制网上的会话数，任何时候视频会议数据在网上传输的带宽不超 
        过10M以太网的40%，因此不超过4对384kbps同时的会话可在以太网上建立。会话的速率适当的降低，则同时建立的会话数也可以适当地增加，即也可同时支持12对128kbps的会话。当网络负载过重，超过70%的平均负载，应该考虑交换式的集线器，以增加局域网的吞吐量。<br>
        　　・时钟同步：视频会议系统端站之间时钟是同步的，而有些网络是异步的，如局域网，因此需要有一个设备来完成。<br>
        　　(4) 差错控制<br>
        　　会议电视系统需要实实在在的可靠性，所以它的组成需要端对端的差错检测和差错纠正机制。<br>
        　　在差错控制方面必须做到：<br>
        　　① 差错检测机制应该嵌入在应用程序中。<br>
        　　② 时序错误的差错检测机制必须嵌入在系统层和网络层中。<br>
        　　差错检测机制应该嵌入在应用程序中。例如，在H.263压缩的B块中的AC参数的一些错误，不应该影响预测的编码数据（它们仅仅在一秒钟的一部分时间出现并且肉眼几乎看不出来）。但是如果帧界被破坏了，则差错不能被复原。这意味着在应用数据流中的结构信息必须进行保护，同时也意味着现有的差错检测机制，如校验和数据单元序列化等，应该进行扩展以便包容更多的信息。现有机制允许在较低级进行数据的破坏、丢失、重复、和次序混乱的检测（例如，网络层的包），但是在应用层，差错检测却被忽略了。<br>
        　　时序错误的差错检测机制也必须嵌入在系统层和网络层中。这样的检测机制可以在发送方--接受方路径上为其他连接打开资源，并且也可能在路径上指示出拥挤点。<br>
        　　传统的差错校正策略不适用于视频会议系统，预防性的差错校正方案如前向差错校正（FEC）和信道优先级编码方案要更加适用。<br>
        　　在FEC中，发送方增加冗余信息以便接受方能够定位和校正比特和比特序列。为了使用FEC，需要：<br>
        　　① 在发送方和接受方之间的连接的错误概率；<br>
        　　② 应用程序所需的可靠性。<br>
        　　FEC方法其端对端的延时较低，在接受方和发送方建立控制连接和回放之前无需数据的排它性的缓存。它的缺点是仅仅只适用于包内的差错检测和校正，不适用于完整包，而且不能保证毁坏的或丢失的数据包的恢复，另外它的冗余信息也大大增加了吞吐量的需求。<br>
        <br>
        　　<font color="#003399">视频会议系统解决QoS保证的工作步骤如下<br>
        　　・在国际标准中找到有关多媒体服务通用QoS参数（参见书p624 表8-7）；<br>
        　　・QoS参数的定义和映射；<br>
        　　・QoS协商和准许控制；<br>
        　　・资源的分配和调度；<br>
        　　・QoS维护、监视和控制；<br>
        　　・QoS再协商；<br>
        　　(1) QoS定义不同层次是不一样，它包含相应指标以上下界限及系统反应时间。映射是 指系统自动将用户高层QoS请求解释成较低层次的QoS参数。<br>
        　　(2) QoS协商包括用户和系统之间的QoS协商和端到端的QoS协商。<br>
        　　(3) QoS映射最终的结果是系统可以控制的资源，这些资源包括计算机系统的CPU、进程、线程、内存缓冲区、网络的带宽和路由等，系统通过分配和调度这些资源满足用户应用的QoS请求，合理地进行资源分配和调度是成功进行QoS管理的关键。<br>
        　　(4) QoS维护是指在网络负载不断变化的情况下动态的管理资源；QoS监视是指系统每一层动态监视下一层的行为是否保证了预期的QoS。QoS控制是指在QoS监视基础上对越界行为进行强制性处理。<br>
        　　(5) QoS再协商，如果用户设置的初始QoS要求，得不到满足，用户要降低QoS要求，需要重新协商称之为再协商。<br>
        　　资源的管理主要下述三个内容：<br>
        　　(1) 在会议建立过程中保留和分配资源，以保证服务质量能够满足QoS要求；<br>
        　　(2) 在多媒体数据传送过程中，采用适当的QoS服务策略进行资源分配；<br>
        　　(3) 视频会议的各个阶段要进行相应的资源改变。<br>
        　　资源的静态管理：<br>
        　　(1) QoS协商和解释；<br>
        　　(2) 资源许可；<br>
        　　(3) 资源的保留和分配；<br>
        　　(4) 资源的释放。<br>
        　　资源的动态管理：<br>
        　　(1) 进程管理;<br>
        　　(2) 缓冲区管理；<br>
        　　(3) 传输率和流量控制；<br>
        　　(4) 差错控制。<br>
      </font></td>
  </tr>
</table>
</body>
</html>

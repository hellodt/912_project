<html>
<head>
<title>Untitled Document</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<link rel="stylesheet" href="../../../../css/text.css" type="text/css">
</head>

<body bgcolor="#FFFFFF" text="#000000" leftmargin="5" topmargin="5" marginwidth="5" marginheight="5">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr> 
    <td class="text">　　视频信号获取器诊断软件的设计：根据视频信号获取器的组成部分，需要编制诊断视频窗口控制器PC-Video寄存器读写测试程序，I<sup>2</sup>C总线接口测试程序；帧存储器存储的读写测试，多路开关正确性的测试；解码器的测试：读状态字，修改寄存器，选择输入端以及选择输入制式；编码器的测试：读状态字，读写寄存器，选择制式，输出测试；数据转换器的测试：读状态字，修改寄存器；输出测试：读状态字，修改寄存器，输出全屏黑，输出全屏白，彩条测试，输出颜色调整等。在调试过程中，利用诊断软件，必要时再配合使用示波器或逻 
      辑分析仪，即可查出硬件的错误，诊断程序的菜单如图2.19所示。 <br>
      <font color="#003399">　　图2.19　视频信号获取器诊断调试软件框图</font> <font color="#990000">（点击查看大图）</font><br>
      　　<a href="t1.htm" target="_blank"><img src="../../../../images/chatp/chap02/080.gif" width="293" height="176" border="0"></a> 
      <br>
      　　为了给用户提供方便的编程环境，还需要编制在DOS和Windows条件下的库函数，演示软件主模块及功能子函数模块，具体菜单如图2.20所示，库函数包含多个底层函数调用，通过PC-Video各控制寄存器编程，可实现视频信号获取器的各种图像处理功能。通过对I2C总线编程，可实现对多制式数字解码器及编码器的控制。演示软件主模块包含所有函数调用，功能子函数模块包含各种函数调用，每一个都能完成某一特定功能。用户调用时只写一个调用命令即可，因此方便了用户的编程。<br>
      　　视频信号获取器能够实时捕获和显示视频信号，由于设计时采用了数字式解码电路和视频窗口控制器，使视频信号获取器具有以下特点： <br>
      　　(1) 由于采用多制式数字解码器，帧存储器存储YUV信息，既可节省存储空间又方便图像处理和编码输出；<br>
      　　(2) 采用数字式锁相和解码，使设计调试简便；<br>
      　　(3) 采用视频窗口控制器，可对显示窗口的位置、大小任意改变，同时可做到对图像进行实时缩放和漫游；<br>
      　　(4) 为解决实时存取，采用两个存储体；<br>
      　　(5) 视频RGB信号与VGA的RGB可共用一个监视器，通过彩色键联信号可产生4种叠加效果。<br>
      　　综上所述，由彩色多制式数字解码电路、视频窗口控制器以及VRAM等组成计算机视频信号获取器，和当时世界上其它产品比较，它的性能指标高，制造、调整简单，价格便宜，是市场上极有竞争力的产品，也是视频信号获取器一种较好的设计方案，将成为一个新的发展方向。<br>
      <font color="#003399">　　图2.20　视频信号获取器的库函数及功能模拟</font> <font color="#990000">（点击查看大图）</font><br>
      　　<a href="t2.htm" target="_blank"><img src="../../../../images/chatp/chap02/081.gif" width="320" height="213" border="0"></a> 
      <br>
    </td>
  </tr>
</table>
</body>
</html>

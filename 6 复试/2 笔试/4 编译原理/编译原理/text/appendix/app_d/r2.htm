<html>
<head>
<title>園咎圻尖</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<link rel="stylesheet" href="../../../css/text.css" type="text/css">
<STYLE TYPE="text/css">
<!--
BODY {background-image:   url(../../../img/index/bg1.gif);
background-position: right;
background-repeat: no-repeat;
background-attachment: fixed;
}
-->
</STYLE>

</head>

<body bgcolor="#FFFFFF" text="#000000" >
<table width="100%" border="0" cellspacing="0" cellpadding="0" class=text>
  <tr>
    <td><b>pl0c.c</b>
      <p>　　#include &lt;stdio.h&gt;<br>
        　　#include &quot;pl0c.h&quot;<br>
        　　#include &quot;string.h&quot;</p>
      <p>　　/* 盾瞥峇佩扮聞喘議媚 */<br>
        　　#define stacksize 500 </p>
      <p></p>
      <p></p>
      <p><br>
        　　int main()<br>
        　　{<br>
        　　　bool nxtlev[symnum];<br>
        　　　init(); /* 兜兵晒 */<br>
        　　　fas=fopen(&quot;fas.tmp&quot;,&quot;w&quot;);<br>
        　　　fa1=fopen(&quot;fa1.tmp&quot;,&quot;w&quot;);<br>
        　　　printf(&quot;Input file? &quot;);<br>
        　　　fprintf(fa1,&quot;Input file? &quot;);<br>
        　　　scanf(&quot;%s&quot;,fname); /* 補秘猟周兆 */<br>
        　　　fin=fopen(fname,&quot;r&quot;);<br>
        　　　if(fin)<br>
        　　{<br>
        　　　fprintf(fa1,&quot;%s\n&quot;,fname);<br>
        　　　printf(&quot;List object code?(Y/N)&quot;); /* 頁倦補竃倡亭字旗鷹 */<br>
        　　　scanf(&quot;%s&quot;,fname);<br>
        　　　listswitch=(fname[0]=='y'||fname[0]=='Y');<br>
        　　　printf(&quot;List symbol table?(Y/N)&quot;); /* 頁倦補竃兆忖燕 */<br>
        　　　scanf(&quot;%s&quot;,fname);<br>
        　　　tableswitch=(fname[0]=='y'||fname[0]=='Y');<br>
        　　　err=0;<br>
        　　　cc=cx=ll=0;<br>
        　　　ch=' ';<br>
        　　　kk=al-1;</p>
      <p> 　　　if(-1!=getsym())<br>
        　　{<br>
        　　　fa=fopen(&quot;fa.tmp&quot;,&quot;w&quot;);<br>
        　　　fa2=fopen(&quot;fa2.tmp&quot;,&quot;w&quot;);<br>
        　　　addset(nxtlev,declbegsys,statbegsys,symnum);<br>
        　　　nxtlev[period]=true;<br>
        　　　if(-1==block(0,0,nxtlev)) /* 距喘園咎殻會 */<br>
        　　　{<br>
        　　　　fclose(fa);<br>
        　　　　fclose(fa1);<br>
        　　　　fclose(fin);<br>
        　　　　printf(&quot;\n&quot;);<br>
        　　　　return 0;<br>
        　　　}<br>
        　　　fclose(fa);<br>
        　　　fclose(fa1);<br>
        　　　if(sym!=period)error(9);<br>
        　　　if(err==0)interpret(); /* 距喘盾瞥峇佩殻會 */<br>
        　　　else<br>
        　　　{<br>
        　　　　printf(&quot;Errors in pl/0 program&quot;);<br>
        　　　}　<br>
        　　}<br>
        　　fclose(fin);<br>
        　}<br>
        　else<br>
        　{<br>
        　　printf(&quot;Can't open file!\n&quot;);<br>
        　　fprintf(fa1,&quot;Can't open file!\n&quot;);<br>
        　　fclose(fa1);<br>
        　}<br>
        　fclose(fas);<br>
        　printf(&quot;\n&quot;);<br>
        　return 0;<br>
        }</p>
    </td>
  </tr>
</table>
</body>
</html>
